{"version":3,"sources":["Search/Search.jsx","Info/Info.jsx","WeatherBox/WeatherBox.jsx","index.jsx"],"names":["Search","props","search","setQuery","className","type","placeholder","onChange","e","target","value","onClick","Info","weather","main","message","name","sys","country","Math","round","temp","description","api","WeatherBox","useState","setWeather","query","mounted","useRef","handleError","error","current","navigator","geolocation","getCurrentPosition","position","coords","longitude","latitude","fetch","then","res","json","result","searchForUserWeather","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sPAkBeA,MAhBf,SAAgBC,GACd,IAAQC,EAAqBD,EAArBC,OAAQC,EAAaF,EAAbE,SAChB,OACE,sBAAKC,UAAU,SAAf,UACE,uBACEC,KAAK,OACLD,UAAU,cACVE,YAAY,eACZC,SAAU,SAACC,GAAD,OAAOL,EAASK,EAAEC,OAAOC,UAErC,wBAAQL,KAAK,SAAS,aAAW,SAASD,UAAU,iBAAiBO,QAAS,kBAAMT,W,MCwB3EU,MAlCf,SAAcX,GACZ,IAAQY,EAAYZ,EAAZY,QAER,OACE,qBAAKT,UAAU,OAAf,SAO4B,qBAAjBS,EAAQC,KACbD,EAAQE,QACNF,EAAQE,QAER,MAGF,qCACE,sBAAKX,UAAU,iBAAf,UACGS,EAAQG,KADX,KACmBH,EAAQI,IAAIC,WAE/B,sBAAKd,UAAU,oBAAf,UACGe,KAAKC,MAAMP,EAAQC,KAAKO,MAD3B,WAGA,qBAAKjB,UAAU,eAAf,SAA+BS,EAAQA,QAAQ,GAAGS,oBCvBxDC,EACC,mCADDA,EAEE,2CAuDOC,MApDf,WACE,MAA8BC,mBAAS,IAAvC,mBAAOZ,EAAP,KAAgBa,EAAhB,KACA,EAA0BD,mBAAS,IAAnC,mBAAOE,EAAP,KAAcxB,EAAd,KAEMyB,EAAUC,kBAAO,GASvB,SAASC,EAAYC,GAEfL,EADJK,EACe,CAAEhB,QAAS,8CACX,CAAEA,QAASgB,EAAMhB,UA4BlC,OAvCKa,EAAQI,UACPC,UAAUC,YACZD,UAAUC,YAAYC,oBAgB1B,SAAyBC,GACvB,MAAgCA,EAASC,OAAjCC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,UAIrB,SAA8BD,EAAWC,GACvCC,MAAM,GAAD,OAAIjB,EAAJ,uBAA2BgB,EAA3B,gBAA2CD,EAA3C,gCAA4Ef,IAC9EkB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLlB,EAAWkB,MAPfC,CAAqBP,EAAWC,KAlB4BT,GAE1DA,KAUJgB,qBAAU,WACRlB,EAAQI,SAAU,IACjB,IAwBD,sBAAK5B,UAAU,cAAf,UACE,cAAC,EAAD,CAAQF,OAAQ,WATlBsC,MAAM,GAAD,OAAIjB,EAAJ,qBAAyBI,EAAzB,+BAAqDJ,IACvDkB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLlB,EAAWkB,OAM6BzC,SAAUA,IACpD,cAAC,EAAD,CAAMU,QAASA,QCnDrBkC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAGFC,SAASC,eAAe,W","file":"static/js/main.cdcd7be7.chunk.js","sourcesContent":["import './search.css';\r\n\r\nfunction Search(props) {\r\n  const { search, setQuery } = props;\r\n  return (\r\n    <div className=\"search\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"search__bar\"\r\n        placeholder=\"Type city...\"\r\n        onChange={(e) => setQuery(e.target.value)}\r\n      />\r\n      <button type=\"button\" aria-label=\"Search\" className=\"search__button\" onClick={() => search()} />\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import './info.css';\r\n\r\nfunction Info(props) {\r\n  const { weather } = props;\r\n\r\n  return (\r\n    <div className=\"info\">\r\n      {\r\n        // 1. Show ... when nothing typed yet.\r\n        // 2. Show error message when no city was found.\r\n        // 3. Else show content.\r\n\r\n        // eslint-disable-next-line no-nested-ternary\r\n        typeof weather.main === 'undefined' ? (\r\n          weather.message ? (\r\n            weather.message\r\n          ) : (\r\n            '...'\r\n          )\r\n        ) : (\r\n          <>\r\n            <div className=\"info__location\">\r\n              {weather.name}, {weather.sys.country}\r\n            </div>\r\n            <div className=\"info__temperature\">\r\n              {Math.round(weather.main.temp)}Â°c\r\n            </div>\r\n            <div className=\"info__clouds\">{weather.weather[0].description}</div>\r\n          </>\r\n        )\r\n\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Info;\r\n","import { useState, useEffect, useRef } from 'react';\nimport Search from '../Search/Search';\nimport Info from '../Info/Info';\n\nconst api = {\n  key: '1fd834a005e103644a2bc3e131f251ab',\n  base: 'https://api.openweathermap.org/data/2.5/',\n};\n\nfunction WeatherBox() {\n  const [weather, setWeather] = useState({});\n  const [query, setQuery] = useState('');\n\n  const mounted = useRef(false);\n  if (!mounted.current) {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(getUserPosition, handleError);\n    } else {\n      handleError();\n    }\n  }\n\n  function handleError(error) {\n    error\n      ? setWeather({ message: 'Your browser is not supporting geolocation' })\n      : setWeather({ message: error.message });\n  }\n\n  useEffect(() => {\n    mounted.current = true;\n  }, []);\n\n  function getUserPosition(position) {\n    const { longitude, latitude } = position.coords;\n    searchForUserWeather(longitude, latitude);\n  }\n\n  function searchForUserWeather(longitude, latitude) {\n    fetch(`${api.base}weather?lat=${latitude}&lon=${longitude}&&units=metric&APPID=${api.key}`)\n      .then((res) => res.json())\n      .then((result) => {\n        setWeather(result);\n      });\n  }\n\n  function searchForWeather() {\n    fetch(`${api.base}weather?q=${query}&units=metric&APPID=${api.key}`)\n      .then((res) => res.json())\n      .then((result) => {\n        setWeather(result);\n      });\n  }\n\n  return (\n    <div className=\"weather-box\">\n      <Search search={() => searchForWeather()} setQuery={setQuery} />\n      <Info weather={weather} />\n    </div>\n  );\n}\n\nexport default WeatherBox;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport WeatherBox from './WeatherBox/WeatherBox';\n\nReactDOM.render(\n  <React.StrictMode>\n    <WeatherBox />\n  </React.StrictMode>,\n\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}